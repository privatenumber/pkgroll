#!/usr/bin/env node
var Iu=Object.defineProperty;var l=(e,t)=>Iu(e,"name",{value:t,configurable:!0});import _,{existsSync as Nu}from"node:fs";import Ru from"tty";import{watch as _u,rollup as Wu}from"rollup";import{importTrace as ut,patchErrorWithTrace as Mu}from"rollup-plugin-import-trace";import U from"node:fs/promises";import g,{resolve as Lu,isAbsolute as Uu,dirname as Vu,join as zu}from"node:path";import{parse as qu}from"yaml";import Y from"node:path/posix";import Ju from"@rollup/plugin-node-resolve";import Ku from"@rollup/plugin-commonjs";import Gu from"@rollup/plugin-json";import Hu from"@rollup/plugin-alias";import Yu from"@rollup/plugin-dynamic-import-vars";import{transform as nt}from"esbuild";import Zu,{builtinModules as Qu}from"node:module";import re from"magic-string";import Xu from"fs";import en from"os";import tn from"path";import{attachScopes as un}from"rollup-pluginutils";import"node:url";import{init as nn,parse as rn}from"cjs-module-lexer";var sn=Object.defineProperty,j=l((e,t)=>sn(e,"name",{value:t,configurable:!0}),"a$1");const on="known-flag",an="unknown-flag",ln="argument",Dn=/\B([A-Z])/g,cn=j(e=>e.replaceAll(Dn,"-$1").toLowerCase(),"camelToKebab"),{hasOwnProperty:fn}=Object.prototype,Z=j((e,t)=>fn.call(e,t),"hasOwn"),Ae=j(e=>typeof e=="function"?[e,!1]:Array.isArray(e)?[e[0],!0]:Ae(e.type),"parseFlagType"),rt=j((e,t)=>e===Boolean?t!=="false":t,"normalizeBoolean"),st=j((e,t)=>typeof t=="boolean"?t:e===Number&&t===""?Number.NaN:e(t),"applyParser"),pn=/[\s.:=]/,dn=j(e=>{const t=`Flag name "${e}"`;if(e.length===0)throw new Error(`${t} cannot be empty`);if(e.length===1)throw new Error(`${t} must be longer than a character`);const n=e.match(pn);if(n)throw new Error(`${t} cannot contain "${n?.[0]}"`)},"validateFlagName"),$e=j((e,t,n)=>{if(Z(e,t))throw new Error(`Duplicate flags named "${t}"`);e[t]=n},"setFlag"),Fn=j(e=>{const t={};for(const n in e){if(!Z(e,n))continue;dn(n);const u=e[n],r=[[],...Ae(u),u];$e(t,n,r);const s=cn(n);if(n!==s&&$e(t,s,r),"alias"in u&&typeof u.alias=="string"){const{alias:o}=u,i=`Flag alias "${o}" for flag "${n}"`;if(o.length===0)throw new Error(`${i} cannot be empty`);if(o.length>1)throw new Error(`${i} must be a single character`);$e(t,o,r)}}return t},"createRegistry"),hn=j((e,t)=>{const n={};for(const u in e){if(!Z(e,u))continue;const[r,,s,o]=t[u];if(r.length===0&&"default"in o){let{default:i}=o;typeof i=="function"&&(i=i()),n[u]=i}else n[u]=s?r:r.pop()}return n},"finalizeFlags"),se="--",mn=3,gn=/^-{1,2}\w/,ot=j(e=>{if(!gn.test(e))return;const t=!e.startsWith(se);let n=e.slice(t?1:2),u,r=-1;for(const s of["=",":","."]){const o=n.indexOf(s);o!==-1&&(r===-1||o<r)&&(r=o)}return r!==-1&&(u=n.slice(r+1),n=n.slice(0,r)),[n,u,t]},"parseFlagArgv"),it=j((e,{onFlag:t,onArgument:n})=>{let u;const r=j((s,o)=>{if(typeof u!="function")return!0;u(s,o),u=void 0},"triggerValueCallback");for(let s=0;s<e.length;s+=1){const o=e[s];if(o===se){r();const a=e.slice(s+1);n?.(a,[s],!0);break}const i=ot(o);if(i){if(r(),!t)continue;const[a,D,c]=i;if(c)for(let F=0;F<a.length;F+=1){r();const f=F===a.length-1;u=t(a[F],f?D:void 0,[s,F+1,f])}else u=t(a,D,[s])}else r(o,[s])&&n?.([o],[s])}r()},"argvIterator"),at=j((e,t)=>{for(let n=t.length-1;n>=0;n-=1){const[u,r,s]=t[n];if(r){const o=e[u];let i=o.slice(0,r);if(s||(i+=o.slice(r+1)),i!=="-"){e[u]=i;continue}}e.splice(u,1)}},"spliceFromArgv"),Cn=j((e,t=process.argv.slice(2),{ignore:n}={})=>{const u=[],r=Fn(e),s={},o=[];return o[se]=[],it(t,{onFlag(i,a,D){const c=(D.length===mn||i.length>1)&&Z(r,i);if(!n?.(c?on:an,i,a)){if(c){const[F,f]=r[i],d=rt(f,a),C=j((m,w)=>{u.push(D),w&&u.push(w),F.push(st(f,m||""))},"getFollowingValue");return d===void 0?C:C(d)}Z(s,i)||(s[i]=[]),s[i].push(a===void 0?!0:a),u.push(D)}},onArgument:j((i,a,D)=>{n?.(ln,t[a[0]])||(o.push(...i),D?(o[se]=i,t.splice(a[0])):u.push(a))},"onArgument")}),at(t,u),{flags:hn(e,r),unknownFlags:s,_:o}},"typeFlag");j((e,t,n=process.argv.slice(2))=>{const u=new Set(e.split(",").map(a=>ot(a)?.[0])),[r,s]=Ae(t),o=[],i=[];return it(n,{onFlag:j((a,D,c)=>{if(!u.has(a)||!s&&o.length>0)return;const F=rt(r,D),f=j((d,C)=>{i.push(c),C&&i.push(C),o.push(st(r,d||""))},"getFollowingValue");return F===void 0?f:f(F)},"onFlag")}),at(n,i),s?o:o[0]},"getFlag");var En=Object.defineProperty,y=l((e,t)=>En(e,"name",{value:t,configurable:!0}),"n");const yn=y(e=>{const t=process.stdout.columns??Number.POSITIVE_INFINITY;return typeof e=="function"&&(e=e(t)),e||(e={}),Array.isArray(e)?{columns:e,stdoutColumns:t}:{columns:e.columns??[],stdoutColumns:e.stdoutColumns??t}},"getOptions");function lt({onlyFirst:e=!1}={}){const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}l(lt,"j$1"),y(lt,"ansiRegex");const Bn=lt();function xe(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Bn,"")}l(xe,"w$2"),y(xe,"stripAnsi");function Dt(e){return e===161||e===164||e===167||e===168||e===170||e===173||e===174||e>=176&&e<=180||e>=182&&e<=186||e>=188&&e<=191||e===198||e===208||e===215||e===216||e>=222&&e<=225||e===230||e>=232&&e<=234||e===236||e===237||e===240||e===242||e===243||e>=247&&e<=250||e===252||e===254||e===257||e===273||e===275||e===283||e===294||e===295||e===299||e>=305&&e<=307||e===312||e>=319&&e<=322||e===324||e>=328&&e<=331||e===333||e===338||e===339||e===358||e===359||e===363||e===462||e===464||e===466||e===468||e===470||e===472||e===474||e===476||e===593||e===609||e===708||e===711||e>=713&&e<=715||e===717||e===720||e>=728&&e<=731||e===733||e===735||e>=768&&e<=879||e>=913&&e<=929||e>=931&&e<=937||e>=945&&e<=961||e>=963&&e<=969||e===1025||e>=1040&&e<=1103||e===1105||e===8208||e>=8211&&e<=8214||e===8216||e===8217||e===8220||e===8221||e>=8224&&e<=8226||e>=8228&&e<=8231||e===8240||e===8242||e===8243||e===8245||e===8251||e===8254||e===8308||e===8319||e>=8321&&e<=8324||e===8364||e===8451||e===8453||e===8457||e===8467||e===8470||e===8481||e===8482||e===8486||e===8491||e===8531||e===8532||e>=8539&&e<=8542||e>=8544&&e<=8555||e>=8560&&e<=8569||e===8585||e>=8592&&e<=8601||e===8632||e===8633||e===8658||e===8660||e===8679||e===8704||e===8706||e===8707||e===8711||e===8712||e===8715||e===8719||e===8721||e===8725||e===8730||e>=8733&&e<=8736||e===8739||e===8741||e>=8743&&e<=8748||e===8750||e>=8756&&e<=8759||e===8764||e===8765||e===8776||e===8780||e===8786||e===8800||e===8801||e>=8804&&e<=8807||e===8810||e===8811||e===8814||e===8815||e===8834||e===8835||e===8838||e===8839||e===8853||e===8857||e===8869||e===8895||e===8978||e>=9312&&e<=9449||e>=9451&&e<=9547||e>=9552&&e<=9587||e>=9600&&e<=9615||e>=9618&&e<=9621||e===9632||e===9633||e>=9635&&e<=9641||e===9650||e===9651||e===9654||e===9655||e===9660||e===9661||e===9664||e===9665||e>=9670&&e<=9672||e===9675||e>=9678&&e<=9681||e>=9698&&e<=9701||e===9711||e===9733||e===9734||e===9737||e===9742||e===9743||e===9756||e===9758||e===9792||e===9794||e===9824||e===9825||e>=9827&&e<=9829||e>=9831&&e<=9834||e===9836||e===9837||e===9839||e===9886||e===9887||e===9919||e>=9926&&e<=9933||e>=9935&&e<=9939||e>=9941&&e<=9953||e===9955||e===9960||e===9961||e>=9963&&e<=9969||e===9972||e>=9974&&e<=9977||e===9979||e===9980||e===9982||e===9983||e===10045||e>=10102&&e<=10111||e>=11094&&e<=11097||e>=12872&&e<=12879||e>=57344&&e<=63743||e>=65024&&e<=65039||e===65533||e>=127232&&e<=127242||e>=127248&&e<=127277||e>=127280&&e<=127337||e>=127344&&e<=127373||e===127375||e===127376||e>=127387&&e<=127404||e>=917760&&e<=917999||e>=983040&&e<=1048573||e>=1048576&&e<=1114109}l(Dt,"P"),y(Dt,"isAmbiguous");function ct(e){return e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510}l(ct,"z$1"),y(ct,"isFullWidth");function ft(e){return e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9776&&e<=9783||e>=9800&&e<=9811||e===9855||e>=9866&&e<=9871||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12773||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e===94192||e===94193||e>=94208&&e<=100343||e>=100352&&e<=101589||e>=101631&&e<=101640||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e>=119552&&e<=119638||e>=119648&&e<=119670||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128727||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129673||e>=129679&&e<=129734||e>=129742&&e<=129756||e>=129759&&e<=129769||e>=129776&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}l(ft,"G$2"),y(ft,"isWide");function pt(e){if(!Number.isSafeInteger(e))throw new TypeError(`Expected a code point, got \`${typeof e}\`.`)}l(pt,"Z$2"),y(pt,"validate");function dt(e,{ambiguousAsWide:t=!1}={}){return pt(e),ct(e)||ft(e)||t&&Dt(e)?2:1}l(dt,"V$2"),y(dt,"eastAsianWidth");var wn=y(()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,"emojiRegex");const bn=new Intl.Segmenter,vn=new RegExp("^\\p{Default_Ignorable_Code_Point}$","u");function W(e,t={}){if(typeof e!="string"||e.length===0)return 0;const{ambiguousIsNarrow:n=!0,countAnsiEscapeCodes:u=!1}=t;if(u||(e=xe(e)),e.length===0)return 0;let r=0;const s={ambiguousAsWide:!n};for(const{segment:o}of bn.segment(e)){const i=o.codePointAt(0);if(!(i<=31||i>=127&&i<=159)&&!(i>=8203&&i<=8207||i===65279)&&!(i>=768&&i<=879||i>=6832&&i<=6911||i>=7616&&i<=7679||i>=8400&&i<=8447||i>=65056&&i<=65071)&&!(i>=55296&&i<=57343)&&!(i>=65024&&i<=65039)&&!vn.test(o)){if(wn().test(o)){r+=2;continue}r+=dt(i,s)}}return r}l(W,"d$1"),y(W,"stringWidth");const Ft=y(e=>Math.max(...e.split(`
`).map(t=>W(t))),"getLongestLineWidth"),An=y(e=>{const t=[];for(const n of e){const{length:u}=n,r=u-t.length;for(let s=0;s<r;s+=1)t.push(0);for(let s=0;s<u;s+=1){const o=Ft(n[s]);o>t[s]&&(t[s]=o)}}return t},"getColumnContentWidths"),ht=/^\d+%$/,mt={width:"auto",align:"left",contentWidth:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,horizontalPadding:0,paddingLeftString:"",paddingRightString:""},$n=y((e,t)=>{const n=[];for(let u=0;u<e.length;u+=1){const r=t[u]??"auto";if(typeof r=="number"||r==="auto"||r==="content-width"||typeof r=="string"&&ht.test(r)){n.push({...mt,width:r,contentWidth:e[u]});continue}if(r&&typeof r=="object"){const s={...mt,...r,contentWidth:e[u]};s.horizontalPadding=s.paddingLeft+s.paddingRight,n.push(s);continue}throw new Error(`Invalid column width: ${JSON.stringify(r)}`)}return n},"initColumns"),xn=y((e,t)=>{for(const n of e){const{width:u}=n;if(u==="content-width"&&(n.width=n.contentWidth),u==="auto"){const a=Math.min(20,n.contentWidth);n.width=a,n.autoOverflow=n.contentWidth-a}if(typeof u=="string"&&ht.test(u)){const a=Number.parseFloat(u.slice(0,-1))/100;n.width=Math.floor(t*a)-(n.paddingLeft+n.paddingRight)}const{horizontalPadding:r}=n,s=1,o=s+r;if(o>=t){const a=o-t,D=Math.ceil(n.paddingLeft/r*a),c=a-D;n.paddingLeft-=D,n.paddingRight-=c,n.horizontalPadding=n.paddingLeft+n.paddingRight}n.paddingLeftString=n.paddingLeft?" ".repeat(n.paddingLeft):"",n.paddingRightString=n.paddingRight?" ".repeat(n.paddingRight):"";const i=t-n.horizontalPadding;n.width=Math.max(Math.min(n.width,i),s)}},"resolveColumnWidths"),gt=y(()=>Object.assign([],{columns:0}),"makeRow"),kn=y((e,t)=>{const n=[gt()];let[u]=n;for(const r of e){const s=r.width+r.horizontalPadding;u.columns+s>t&&(u=gt(),n.push(u)),u.push(r),u.columns+=s}for(const r of n){const s=r.reduce((f,d)=>f+d.width+d.horizontalPadding,0);let o=t-s;if(o===0)continue;const i=r.filter(f=>"autoOverflow"in f),a=i.filter(f=>f.autoOverflow>0),D=a.reduce((f,d)=>f+d.autoOverflow,0),c=Math.min(D,o);for(const f of a){const d=Math.floor(f.autoOverflow/D*c);f.width+=d,o-=d}const F=Math.floor(o/i.length);for(let f=0;f<i.length;f+=1){const d=i[f];f===i.length-1?d.width+=o:d.width+=F,o-=F}}return n},"balanceAuto"),jn=y((e,t,n)=>{const u=$n(n,t);return xn(u,e),kn(u,e)},"computeColumnWidths"),ke=10,Ct=y((e=0)=>t=>`\x1B[${t+e}m`,"wrapAnsi16"),Et=y((e=0)=>t=>`\x1B[${38+e};5;${t}m`,"wrapAnsi256"),yt=y((e=0)=>(t,n,u)=>`\x1B[${38+e};2;${t};${n};${u}m`,"wrapAnsi16m"),x={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(x.modifier);const On=Object.keys(x.color),Sn=Object.keys(x.bgColor);[...On,...Sn];function Bt(){const e=new Map;for(const[t,n]of Object.entries(x)){for(const[u,r]of Object.entries(n))x[u]={open:`\x1B[${r[0]}m`,close:`\x1B[${r[1]}m`},n[u]=x[u],e.set(r[0],r[1]);Object.defineProperty(x,t,{value:n,enumerable:!1})}return Object.defineProperty(x,"codes",{value:e,enumerable:!1}),x.color.close="\x1B[39m",x.bgColor.close="\x1B[49m",x.color.ansi=Ct(),x.color.ansi256=Et(),x.color.ansi16m=yt(),x.bgColor.ansi=Ct(ke),x.bgColor.ansi256=Et(ke),x.bgColor.ansi16m=yt(ke),Object.defineProperties(x,{rgbToAnsi256:{value:y((t,n,u)=>t===n&&n===u?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(u/255*5),"value"),enumerable:!1},hexToRgb:{value:y(t=>{const n=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!n)return[0,0,0];let[u]=n;u.length===3&&(u=[...u].map(s=>s+s).join(""));const r=Number.parseInt(u,16);return[r>>16&255,r>>8&255,r&255]},"value"),enumerable:!1},hexToAnsi256:{value:y(t=>x.rgbToAnsi256(...x.hexToRgb(t)),"value"),enumerable:!1},ansi256ToAnsi:{value:y(t=>{if(t<8)return 30+t;if(t<16)return 90+(t-8);let n,u,r;if(t>=232)n=((t-232)*10+8)/255,u=n,r=n;else{t-=16;const i=t%36;n=Math.floor(t/36)/5,u=Math.floor(i/6)/5,r=i%6/5}const s=Math.max(n,u,r)*2;if(s===0)return 30;let o=30+(Math.round(r)<<2|Math.round(u)<<1|Math.round(n));return s===2&&(o+=60),o},"value"),enumerable:!1},rgbToAnsi:{value:y((t,n,u)=>x.ansi256ToAnsi(x.rgbToAnsi256(t,n,u)),"value"),enumerable:!1},hexToAnsi:{value:y(t=>x.ansi256ToAnsi(x.hexToAnsi256(t)),"value"),enumerable:!1}}),x}l(Bt,"FD"),y(Bt,"assembleStyles");const Pn=Bt(),oe=new Set(["\x1B","\x9B"]),Tn=39,je="\x07",wt="[",In="]",bt="m",ie=`${In}8;;`,vt=y(e=>`${oe.values().next().value}${wt}${e}${bt}`,"wrapAnsiCode"),At=y(e=>`${oe.values().next().value}${ie}${e}${je}`,"wrapAnsiHyperlink"),Nn=y(e=>e.split(" ").map(t=>W(t)),"wordLengths"),Oe=y((e,t,n)=>{const u=[...t];let r=!1,s=!1,o=W(xe(e.at(-1)));for(const[i,a]of u.entries()){const D=W(a);if(o+D<=n?e[e.length-1]+=a:(e.push(a),o=0),oe.has(a)&&(r=!0,s=u.slice(i+1,i+1+ie.length).join("")===ie),r){s?a===je&&(r=!1,s=!1):a===bt&&(r=!1);continue}o+=D,o===n&&i<u.length-1&&(e.push(""),o=0)}!o&&e.at(-1).length>0&&e.length>1&&(e[e.length-2]+=e.pop())},"wrapWord"),Rn=y(e=>{const t=e.split(" ");let n=t.length;for(;n>0&&!(W(t[n-1])>0);)n--;return n===t.length?e:t.slice(0,n).join(" ")+t.slice(n).join("")},"stringVisibleTrimSpacesRight"),_n=y((e,t,n={})=>{if(n.trim!==!1&&e.trim()==="")return"";let u="",r,s;const o=Nn(e);let i=[""];for(const[F,f]of e.split(" ").entries()){n.trim!==!1&&(i[i.length-1]=i.at(-1).trimStart());let d=W(i.at(-1));if(F!==0&&(d>=t&&(n.wordWrap===!1||n.trim===!1)&&(i.push(""),d=0),(d>0||n.trim===!1)&&(i[i.length-1]+=" ",d++)),n.hard&&o[F]>t){const C=t-d,m=1+Math.floor((o[F]-C-1)/t);Math.floor((o[F]-1)/t)<m&&i.push(""),Oe(i,f,t);continue}if(d+o[F]>t&&d>0&&o[F]>0){if(n.wordWrap===!1&&d<t){Oe(i,f,t);continue}i.push("")}if(d+o[F]>t&&n.wordWrap===!1){Oe(i,f,t);continue}i[i.length-1]+=f}n.trim!==!1&&(i=i.map(F=>Rn(F)));const a=i.join(`
`),D=[...a];let c=0;for(const[F,f]of D.entries()){if(u+=f,oe.has(f)){const{groups:C}=new RegExp(`(?:\\${wt}(?<code>\\d+)m|\\${ie}(?<uri>.*)${je})`).exec(a.slice(c))||{groups:{}};if(C.code!==void 0){const m=Number.parseFloat(C.code);r=m===Tn?void 0:m}else C.uri!==void 0&&(s=C.uri.length===0?void 0:C.uri)}const d=Pn.codes.get(Number(r));D[F+1]===`
`?(s&&(u+=At("")),r&&d&&(u+=vt(d))):f===`
`&&(r&&d&&(u+=vt(r)),s&&(u+=At(s))),c+=f.length}return u},"exec");function $t(e,t,n){return String(e).normalize().replaceAll(`\r
`,`
`).split(`
`).map(u=>_n(u,t,n)).join(`
`)}l($t,"BD"),y($t,"wrapAnsi");const xt=y(e=>Array.from({length:e}).fill(""),"emptyLines"),Wn=y((e,t)=>{const n=[];let u=0;for(const r of e){let s=0;const o=r.map(a=>{let D=t[u]??"";u+=1,a.preprocess&&(D=a.preprocess(D)),Ft(D)>a.width&&(D=$t(D,a.width,{hard:!0}));let c=D.split(`
`);if(a.postprocess){const{postprocess:F}=a;c=c.map((f,d)=>F.call(a,f,d))}return a.paddingTop&&c.unshift(...xt(a.paddingTop)),a.paddingBottom&&c.push(...xt(a.paddingBottom)),c.length>s&&(s=c.length),{...a,lines:c}}),i=[];for(let a=0;a<s;a+=1){const D=o.map(c=>{const F=c.lines[a]??"",f=Number.isFinite(c.width)?" ".repeat(c.width-W(F)):"";let d=c.paddingLeftString;return c.align==="right"&&(d+=f),d+=F,c.align==="left"&&(d+=f),d+c.paddingRightString}).join("");i.push(D)}n.push(i.join(`
`))}return n.join(`
`)},"renderRow"),Mn=y((e,t)=>{if(!e||e.length===0)return"";const n=An(e),u=n.length;if(u===0)return"";const{stdoutColumns:r,columns:s}=yn(t);if(s.length>u)throw new Error(`${s.length} columns defined, but only ${u} columns found`);const o=jn(r,s,n);return e.map(i=>Wn(o,i)).join(`
`)},"terminalColumns"),Ln=["<",">","=",">=","<="],Un=y(e=>{if(!Ln.includes(e))throw new TypeError(`Invalid breakpoint operator: ${e}`)},"assertOperator"),Vn=y(e=>{const t=Object.keys(e).map(n=>{const[u,r]=n.split(" ");Un(u);const s=Number.parseInt(r,10);if(Number.isNaN(s))throw new TypeError(`Invalid breakpoint value: ${r}`);const o=e[n];return{operator:u,breakpoint:s,value:o}}).sort((n,u)=>u.breakpoint-n.breakpoint);return n=>t.find(({operator:u,breakpoint:r})=>u==="="&&n===r||u===">"&&n>r||u==="<"&&n<r||u===">="&&n>=r||u==="<="&&n<=r)?.value},"breakpoints");var zn=Object.defineProperty,A=l((e,t)=>zn(e,"name",{value:t,configurable:!0}),"s$1");const qn=A(e=>e.replaceAll(/[\W_]([a-z\d])?/gi,(t,n)=>n?n.toUpperCase():""),"camelCase"),Jn=A(e=>e.replaceAll(/\B([A-Z])/g,"-$1").toLowerCase(),"kebabCase"),Kn={"> 80":[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"auto"}],"> 40":[{width:"auto",paddingLeft:2,paddingRight:8,preprocess:A(e=>e.trim(),"preprocess")},{width:"100%",paddingLeft:2,paddingBottom:1}],"> 0":{stdoutColumns:1e3,columns:[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"content-width"}]}};function kt(e){let t=!1;return{type:"table",data:{tableData:Object.keys(e).sort((n,u)=>n.localeCompare(u)).map(n=>{const u=e[n],r="alias"in u;return r&&(t=!0),{name:n,flag:u,flagFormatted:`--${Jn(n)}`,aliasesEnabled:t,aliasFormatted:r?`-${u.alias}`:void 0}}).map(n=>(n.aliasesEnabled=t,[{type:"flagName",data:n},{type:"flagDescription",data:n}])),tableBreakpoints:Kn}}}l(kt,"T"),A(kt,"renderFlags");const jt=A(e=>!e||(e.version??(e.help?e.help.version:void 0)),"getVersion"),Ot=A(e=>{const t="parent"in e&&e.parent?.name;return(t?`${t} `:"")+e.name},"getName");function St(e){const t=[];e.name&&t.push(Ot(e));const n=jt(e)??("parent"in e&&jt(e.parent));if(n&&t.push(`v${n}`),t.length!==0)return{id:"name",type:"text",data:`${t.join(" ")}
`}}l(St,"k"),A(St,"getNameAndVersion");function Pt(e){const{help:t}=e;if(!(!t||!t.description))return{id:"description",type:"text",data:`${t.description}
`}}l(Pt,"_$1"),A(Pt,"getDescription");function Tt(e){const t=e.help||{};if("usage"in t)return t.usage?{id:"usage",type:"section",data:{title:"Usage:",body:Array.isArray(t.usage)?t.usage.join(`
`):t.usage}}:void 0;if(e.name){const n=[],u=[Ot(e)];if(e.flags&&Object.keys(e.flags).length>0&&u.push("[flags...]"),e.parameters&&e.parameters.length>0){const{parameters:r}=e,s=r.indexOf("--"),o=s!==-1&&r.slice(s+1).some(i=>i.startsWith("<"));u.push(r.map(i=>i!=="--"?i:o?"--":"[--]").join(" "))}if(u.length>1&&n.push(u.join(" ")),"commands"in e&&e.commands?.length&&n.push(`${e.name} <command>`),n.length>0)return{id:"usage",type:"section",data:{title:"Usage:",body:n.join(`
`)}}}}l(Tt,"F"),A(Tt,"getUsage");function It(e){return!("commands"in e)||!e.commands?.length?void 0:{id:"commands",type:"section",data:{title:"Commands:",body:{type:"table",data:{tableData:e.commands.map(t=>[t.options.name,t.options.help?t.options.help.description:""]),tableOptions:[{width:"content-width",paddingLeft:2,paddingRight:8}]}},indentBody:0}}}l(It,"H$1"),A(It,"getCommands");function Nt(e){if(!(!e.flags||Object.keys(e.flags).length===0))return{id:"flags",type:"section",data:{title:"Flags:",body:kt(e.flags),indentBody:0}}}l(Nt,"U"),A(Nt,"getFlags");function Rt(e){const{help:t}=e;if(!t||!t.examples||t.examples.length===0)return;let{examples:n}=t;if(Array.isArray(n)&&(n=n.join(`
`)),n)return{id:"examples",type:"section",data:{title:"Examples:",body:n}}}l(Rt,"V$1"),A(Rt,"getExamples");function _t(e){if(!("alias"in e)||!e.alias)return;const{alias:t}=e;return{id:"aliases",type:"section",data:{title:"Aliases:",body:Array.isArray(t)?t.join(", "):t}}}l(_t,"J$1"),A(_t,"getAliases");const Gn=A(e=>[St,Pt,Tt,It,Nt,Rt,_t].map(t=>t(e)).filter(Boolean),"generateHelp"),Hn=Ru.WriteStream.prototype.hasColors();class Yn{static{l(this,"z")}static{A(this,"Renderers")}text(t){return t}bold(t){return Hn?`\x1B[1m${t}\x1B[22m`:t.toLocaleUpperCase()}indentText({text:t,spaces:n}){return t.replaceAll(/^/gm," ".repeat(n))}heading(t){return this.bold(t)}section({title:t,body:n,indentBody:u=2}){return`${(t?`${this.heading(t)}
`:"")+(n?this.indentText({text:this.render(n),spaces:u}):"")}
`}table({tableData:t,tableOptions:n,tableBreakpoints:u}){return Mn(t.map(r=>r.map(s=>this.render(s))),u?Vn(u):n)}flagParameter(t){return t===Boolean?"":t===String?"<string>":t===Number?"<number>":Array.isArray(t)?this.flagParameter(t[0]):"<value>"}flagOperator(t){return" "}flagName(t){const{flag:n,flagFormatted:u,aliasesEnabled:r,aliasFormatted:s}=t;let o="";if(s?o+=`${s}, `:r&&(o+="    "),o+=u,"placeholder"in n&&typeof n.placeholder=="string")o+=`${this.flagOperator(t)}${n.placeholder}`;else{const i=this.flagParameter("type"in n?n.type:n);i&&(o+=`${this.flagOperator(t)}${i}`)}return o}flagDefault(t){return JSON.stringify(t)}flagDescription({flag:t}){let n="description"in t?t.description??"":"";if("default"in t){let{default:u}=t;typeof u=="function"&&(u=u()),u&&(n+=` (default: ${this.flagDefault(u)})`)}return n}render(t){if(typeof t=="string")return t;if(Array.isArray(t))return t.map(n=>this.render(n)).join(`
`);if("type"in t&&this[t.type]){const n=this[t.type];if(typeof n=="function")return n.call(this,t.data)}throw new Error(`Invalid node type: ${JSON.stringify(t)}`)}}const Se=A(e=>e.length>0&&!e.includes(" "),"isValidScriptName"),{stringify:R}=JSON,Zn=/[|\\{}()[\]^$+*?.]/;function ae(e){const t=[];let n,u;for(const r of e){if(u)throw new Error(`Invalid parameter: Spread parameter ${R(u)} must be last`);const s=r[0],o=r.at(-1);let i;if(s==="<"&&o===">"&&(i=!0,n))throw new Error(`Invalid parameter: Required parameter ${R(r)} cannot come after optional parameter ${R(n)}`);if(s==="["&&o==="]"&&(i=!1,n=r),i===void 0)throw new Error(`Invalid parameter: ${R(r)}. Must be wrapped in <> (required parameter) or [] (optional parameter)`);let a=r.slice(1,-1);const D=a.slice(-3)==="...";D&&(u=r,a=a.slice(0,-3));const c=a.match(Zn);if(c)throw new Error(`Invalid parameter: ${R(r)}. Invalid character found ${R(c[0])}`);t.push({name:a,required:i,spread:D})}return t}l(ae,"b"),A(ae,"parseParameters");function le(e,t,n,u){for(let r=0;r<t.length;r+=1){const{name:s,required:o,spread:i}=t[r],a=qn(s);if(a in e)throw new Error(`Invalid parameter: ${R(s)} is used more than once.`);const D=i?n.slice(r):n[r];if(i&&(r=t.length),o&&(!D||i&&D.length===0))return console.error(`Error: Missing required parameter ${R(s)}
`),u(),process.exit(1);e[a]=D}}l(le,"v$1"),A(le,"mapParametersToArguments");function Wt(e){return e===void 0||e!==!1}l(Wt,"G$1"),A(Wt,"helpEnabled");function Pe(e,t,n,u){const r={...t.flags},s=t.version&&!("version"in r);s&&(r.version={type:Boolean,description:"Show version"});const{help:o}=t,i=Wt(o);i&&!("help"in r)&&(r.help={type:Boolean,alias:"h",description:"Show help"});const a=Cn(r,u,{ignore:t.ignoreArgv}),D=A(()=>{console.log(t.version)},"showVersion");if(s&&a.flags.version===!0)return D(),process.exit(0);const c=new Yn,F=i&&o?.render?o.render:m=>c.render(m),f=A(m=>{const w=Gn({...t,...m?{help:m}:{},flags:r});console.log(F(w,c))},"showHelp");if(i&&a.flags.help===!0)return f(),process.exit(0);if(t.parameters){let{parameters:m}=t,w=a._;const O=m.indexOf("--"),$=m.slice(O+1),p=Object.create(null);if(O>-1&&$.length>0){m=m.slice(0,O);const b=a._["--"];w=w.slice(0,-b.length||void 0),le(p,ae(m),w,f),le(p,ae($),b,f)}else le(p,ae(m),w,f);Object.assign(a._,p)}const d={...a,showVersion:D,showHelp:f},C={command:e,...d};if(typeof n=="function"){const m=n(d);if(m&&"then"in m)return Object.assign(Promise.resolve(m),C)}return C}l(Pe,"j"),A(Pe,"cliBase");function Mt(e,t){const n=new Map;for(const u of t){const r=[u.options.name],{alias:s}=u.options;s&&(Array.isArray(s)?r.push(...s):r.push(s));for(const o of r){if(n.has(o))throw new Error(`Duplicate command name found: ${R(o)}`);n.set(o,u)}}return n.get(e)}l(Mt,"K$1"),A(Mt,"getCommand");function Lt(e,t,n=process.argv.slice(2)){if(!e)throw new Error("Options is required");if("name"in e&&(!e.name||!Se(e.name)))throw new Error(`Invalid script name: ${R(e.name)}`);const u=n[0];if(e.commands&&u&&Se(u)){const r=Mt(u,e.commands);if(r)return Pe(r.options.name,{...r.options,parent:e},r.callback,n.slice(1))}return Pe(void 0,e,t,n)}l(Lt,"Q$1"),A(Lt,"cli");function Qn(e,t){if(!e)throw new Error("Command options are required");const{name:n}=e;if(n===void 0)throw new Error("Command name is required");if(!Se(n))throw new Error(`Invalid command name ${JSON.stringify(n)}. Command names must be one word.`);return{options:e,callback:t}}l(Qn,"X$1"),A(Qn,"command");var Xn="0.0.0-semantic-release";const M=l(e=>_.promises.access(e).then(()=>!0,()=>!1),"fsExists");let V=!0;const J=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let Q=0;if(J.process&&J.process.env&&J.process.stdout){const{FORCE_COLOR:e,NODE_DISABLE_COLORS:t,NO_COLOR:n,TERM:u,COLORTERM:r}=J.process.env;t||n||e==="0"?V=!1:e==="1"||e==="2"||e==="3"?V=!0:u==="dumb"?V=!1:"CI"in J.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(s=>s in J.process.env)?V=!0:V=process.stdout.isTTY,V&&(process.platform==="win32"||r&&(r==="truecolor"||r==="24bit")?Q=3:u&&(u.endsWith("-256color")||u.endsWith("256"))?Q=2:Q=1)}let Ut={enabled:V,supportLevel:Q};function er(e,t,n=1){const u=`\x1B[${e}m`,r=`\x1B[${t}m`,s=new RegExp(`\\x1b\\[${t}m`,"g");return o=>Ut.enabled&&Ut.supportLevel>=n?u+(""+o).replace(s,u)+r:""+o}l(er,"kolorist");const tr=er(2,22),De=l(e=>e.replaceAll("\\","/"),"slash"),P=l((e,t)=>(!g.isAbsolute(e)&&!e.startsWith(".")&&!e.startsWith("/")&&(e=`./${e}`),t&&!e.endsWith("/")&&(e+="/"),e),"normalizePath"),ur=l(()=>new Date().toLocaleTimeString(),"currentTime"),ce=l((...e)=>console.log(tr(ur()),...e),"log"),nr=process.cwd(),fe=l(e=>P(g.relative(nr,e)),"formatPath"),rr=l(async e=>{const t=await U.readFile(e,"utf8");try{return qu(t)}catch(n){throw new Error(`Failed to parse ${fe(e)}: ${n.message}`)}},"readPackageYaml"),Vt=l(async e=>{const t=await U.readFile(e,"utf8");try{return JSON.parse(t)}catch(n){throw new Error(`Failed to parse ${fe(e)}: ${n.message}`)}},"readPackageJson"),sr=l(async e=>{const t=g.join(e,"package.yaml");if(await M(t))return{packageJson:await rr(t),packageJsonPath:t};const n=g.join(e,"package.json");if(await M(n))return{packageJson:await Vt(n),packageJsonPath:n};throw new Error(`package.json not found at: ${n} (also checked for package.yaml)`)},"readPackage"),or=l(e=>{let t=!1;if(e.includes("=")){const[n,u]=e.split("=");e=u,t=n==="bin"||n==="binary"}return{type:"legacy",source:"cli",outputPath:P(e),isExecutable:t}},"parseCliInputFlag"),ir=l(({imports:e},t)=>{const n={};if(e)for(const u in e){if(u.startsWith("#"))continue;const r=e[u];typeof r=="string"&&(n[u]=g.join(t,r))}return n},"getAliases"),ar=l(e=>{const{publishConfig:t}=e;if(!t)return;const n=["bin","main","exports","types","module"];for(const u of n)t[u]&&(e[u]=t[u])},"applyPublishConfig"),z=l(e=>{if(e.endsWith(".mjs"))return"module";if(e.endsWith(".cjs"))return"commonjs";if(e.endsWith(".d.ts")||e.endsWith(".d.cts")||e.endsWith(".d.mts"))return"types"},"getFileType"),lr=l(e=>e[0]===".","isPath"),zt=l(e=>e.slice(1).filter(t=>typeof t=="string"&&t[0]!=="."),"getConditions"),pe=l((e,t,n,u=[n])=>{if(!e)return[];if(typeof e=="string")return[{source:{type:"package.json",path:[...u]},type:n,conditions:[],format:z(e)||t,outputPath:P(e)}];if(Array.isArray(e))return e.flatMap((s,o)=>{const i=[...u,o];return typeof s=="string"?lr(s)?{source:{type:"package.json",path:[...i]},type:n,conditions:zt(i),format:z(s)||t,outputPath:P(s)}:[]:pe(s,t,n,i)});const r=n==="imports"&&u.length===1;return Object.entries(e).flatMap(([s,o])=>{if(r&&s[0]!=="#")return[];const i=[...u,s];if(typeof o=="string"){const a=zt(i),D={type:n,source:{type:"package.json",path:i},outputPath:P(o),conditions:a};return a.includes("types")?{...D,format:"types"}:{...D,format:z(o)||t}}return pe(o,t,n,i)})},"parsePackageMap"),Dr=l((e,t)=>{const n=[],u=e.main;u&&n.push({source:{type:"package.json",path:["main"]},type:"legacy",format:z(u)??t,outputPath:P(u)});const r=e.module;r&&n.push({source:{type:"package.json",path:["module"]},type:"legacy",format:"module",outputPath:P(r)});const s=e.types;s&&n.push({source:{type:"package.json",path:["types"]},type:"legacy",format:"types",outputPath:P(s)});const{bin:o}=e;if(o)if(typeof o=="string")n.push({source:{type:"package.json",path:["bin"]},type:"binary",format:z(o)??t,outputPath:P(o)});else for(const[i,a]of Object.entries(o))n.push({source:{type:"package.json",path:["bin",i]},type:"binary",format:z(a)??t,outputPath:P(a)});if(e.exports){const i=pe(e.exports,t,"exports");n.push(...i)}if(e.imports){const i=pe(e.imports,t,"imports");n.push(...i)}return n},"getPkgEntryPoints"),cr=l(async(e,t)=>{for(const n of t){const u=e+n;if(await M(u))return{srcExtension:n,sourcePath:u}}},"tryExtensions"),Te={".d.ts":[".d.ts",".d.mts",".d.cts",".ts",".tsx",".mts",".cts"],".d.mts":[".d.mts",".d.ts",".d.cts",".ts",".tsx",".mts",".cts"],".d.cts":[".d.cts",".d.ts",".d.mts",".ts",".tsx",".mts",".cts"],".js":[".js",".ts",".tsx",".mts",".cts"],".mjs":[".mjs",".js",".cjs",".mts",".cts",".ts",".tsx"],".cjs":[".cjs",".js",".mjs",".mts",".cts",".ts",".tsx"]},qt=Object.keys(Te),fr=l(async(e,t)=>{const{outputPath:n}=e,u=qt.find(o=>n.endsWith(o));if(!u)return{error:`Unsupported extension (must be ${qt.join("|")})`,exportEntry:e};const r=n.slice(t.dist.length,-u.length),s=await cr(Y.join(t.srcResolved,r),Te[u]);return s?{exportEntry:e,distExtension:u,srcdist:t,...s}:{error:`Source file not found: ${Y.join(t.src,r)}(${Te[u].join("|")})`,exportEntry:e}},"getSourcePath"),pr=l(async e=>{try{return await U.readdir(e,{withFileTypes:!0})}catch(t){const{code:n}=t;if(n==="ENOENT")return[];throw t}},"safeReaddir"),Jt=l(async(e,t)=>{const n=await pr(e);return(await Promise.all(n.map(async r=>{const s=Y.join(e,r.name);return r.isDirectory()?Jt(s,t):r.isFile()?Y.relative(t,s):[]}))).flat()},"getDirectoryFilesRecursive"),Kt=new Map,Gt=l(async e=>{let t=Kt.get(e);return t||(t=Jt(e,e),Kt.set(e,t)),t},"getDirectoryFiles"),de=/\.[^./]+$/,Ht=l((e,t)=>{const n=t.at(-1);if(!e.endsWith(n))return;if(t.some(r=>r.includes("/"))){const r=e.split("/").filter(Boolean);for(let s=1;s<=r.length;s+=1){const o=r.slice(0,s).join("/"),i=o+t.join(o);if(i===e)return i}}else for(let r=1;r<=e.length;r+=1){const s=e.slice(0,r),o=s+t.join(s);if(o===e)return o}},"extractWildcardMatch"),dr=l(async(e,t)=>{const n=Array.from(t).sort((r,s)=>s.dist.length-r.dist.length);return(await Promise.all(e.map(async r=>{if(typeof r.source=="string"||r.source.path[0]!=="exports"&&r.source.path[0]!=="imports"||!r.outputPath.includes("*"))return[r];const s=r.source.path[1];if(!s.includes("*"))return[r];const o=r.outputPath.match(/\.d\.[cm]?ts$/)||r.outputPath.match(de);if(!o)return[{exportEntry:r,error:`Wildcard pattern must include a file extension (e.g., ".mjs", ".cjs"). Pattern: ${s}`}];const[i]=o,a=r.outputPath.slice(0,-i.length),[D,...c]=a.split("*"),F=D.lastIndexOf("/"),f=F===-1?D:D.slice(0,F+1),d=F>=0?D.slice(F+1):"",C=l($=>{const p=$.replace(de,""),b=p.split("/").at(-1)||"";if(d&&!b.startsWith(d))return!1;if(c.length===1){const B=c[0];return!(B&&!(B.includes("/")?p:b).endsWith(B))}const k=d?b.slice(d.length):p;return!!Ht(k,c)},"matchesPattern");if(f==="./")return(await Promise.all(n.map(async p=>{const b=p.srcResolved;return(await Gt(b)).flatMap(B=>{if(!C(B))return[];const E=B.replace(de,"");return[{...r,outputPath:p.dist+E+i}]})}))).flat();const m=n.find(({dist:$})=>f===$||f.startsWith($));if(!m)return[];const w=g.posix.join(m.srcResolved,f.slice(m.dist.length));return(await Gt(w)).flatMap($=>{if(!C($))return[];const p=$.replace(de,"");if(c.length>1){const b=Ht(p,c);return[{...r,outputPath:f+b+i}]}return[{...r,outputPath:f+p+i}]})}))).flat()},"expandBuildOutputWildcards"),Fr=l(async(e,t,n)=>{ar(t);const u=t.type??"commonjs",r=await dr(Dr(t,u),e);n.length>0&&r.push(...n.map(o=>({...o,format:z(o.outputPath)??u})));const s=new Map;return await Promise.all(r.map(async o=>{if("error"in o)return o;const i=e.find(({dist:D})=>o.outputPath.startsWith(D));if(!i)return{exportEntry:o,error:"Ignoring file outside of dist directories"};const a=s.get(o.outputPath);if(a){if(a.format!==o.format)throw new Error(`Conflicting export types "${a.format}" & "${o.format}" found for ${o.outputPath}`)}else s.set(o.outputPath,o);return await fr(o,i)}))},"getBuildEntryPoints"),X=Symbol("entry"),hr=l(e=>({name:"esbuild-transform",transform:{filter:{id:/\.([cm]?[jt]s|[jt]sx)$/},async handler(t,n){const u=await nt(t,{...e,supported:{"import-meta":!0},loader:"default",sourcefile:n.replace(/\.[cm]ts/,".ts")});return{code:u.code,map:u.map||null}}}}),"esbuildTransform"),mr=l(e=>{if(e==="es")return"esm";if(e==="cjs"||e==="iife")return e},"getEsbuildFormat"),gr=l(e=>({name:"esbuild-minify",renderChunk:l(async(t,n,u)=>{const r=await nt(t,{...e,format:mr(u.format),minify:!0,keepNames:!0});return{code:r.code,map:r.map||null}},"renderChunk")}),"esbuildMinify"),Ie=l((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2],"compareSemver"),Yt=l(({target:e})=>{const t=e.some(n=>{if(n=n.trim(),!n.startsWith("node"))return;const u=n.slice(4).split(".").map(Number),r=[u[0],u[1]??0,u[2]??0];return!(Ie(r,[12,20,0])>=0&&Ie(r,[13,0,0])<0||Ie(r,[14,13,1])>=0)});return{name:"node-builtins",resolveId:l(n=>{const u=n.startsWith("node:");if(t&&u&&(n=n.slice(5)),Qu.includes(n)||u)return{id:n,external:!0}},"resolveId")}},"nodeBuiltins"),Cr=l(e=>{const t=e.filter(u=>u.exportEntry.type==="binary");if(t.length===0)return{name:"patch-binary"};let n;return{name:"patch-binary",options:l(()=>{n=new Set(t.flatMap(u=>u.inputNames))},"options"),renderChunk:l((u,r,s)=>{if(!r.isEntry||!r.facadeModuleId||!n.has(r.name))return;const o=new re(u);return o.prepend(`#!/usr/bin/env node
`),{code:o.toString(),map:s.sourcemap?o.generateMap({hires:!0}):void 0}},"renderChunk"),writeBundle:l(async(u,r)=>{const s=new Set(Object.keys(r).map(o=>P(Y.join(u.dir,o))));await Promise.all(t.map(async({exportEntry:o})=>{const{outputPath:i}=o;s.has(i)&&await _.promises.chmod(i,493)}))},"writeBundle")}},"patchBinary"),Zt=l(e=>{const t=e.indexOf("/");if(t===-1)return[e,void 0];if(e[0]==="@"){const n=e.indexOf("/",t+1);return n===-1?[e,void 0]:[e.slice(0,n),e.slice(n+1)]}return[e.slice(0,t),e.slice(t+1)]},"parseSpecifier"),Qt=l(e=>{const t=e[0];return!(t==="."||t==="/"||t==="#"||g.isAbsolute(e))},"isBareSpecifier"),Ne=l((e,t=process.cwd())=>De(g.relative(t,e)).split("/").includes("node_modules"),"isFromNodeModules"),Xt=l(()=>{const e=/\.(?:[mc]?js|jsx)$/;return{name:"resolve-js-to-ts",async resolveId(t,n,u){if(n&&e.test(t)){if(!Ne(n)){const i=t.replace(/js(x?)$/,"ts$1");return this.resolve(i,n,{...u,skipSelf:!0})}const r=await this.resolve(t,n,{...u,skipSelf:!0});if(r)return r;const s=t.replace(/js(x?)$/,"ts$1"),o=await this.resolve(s,n,{...u,skipSelf:!0});if(o)return o}return null}}},"resolveJsToTs"),eu=l(e=>e!==null&&typeof e=="object","A"),K=l((e,t)=>Object.assign(new Error(`[${e}]: ${t}`),{code:e}),"a"),tu="ERR_INVALID_PACKAGE_CONFIG",Re="ERR_INVALID_PACKAGE_TARGET",Er="ERR_PACKAGE_PATH_NOT_EXPORTED",yr=/^\d+$/,Br=/^(\.{1,2}|node_modules)$/i,wr=/\/|\\/;var uu=(e=>(e.Export="exports",e.Import="imports",e))(uu||{});const _e=l((e,t,n,u,r)=>{if(t==null)return[];if(typeof t=="string"){const[s,...o]=t.split(wr);if(s===".."||o.some(i=>Br.test(i)))throw K(Re,`Invalid "${e}" target "${t}" defined in the package config`);return[r?t.replace(/\*/g,r):t]}if(Array.isArray(t))return t.flatMap(s=>_e(e,s,n,u,r));if(eu(t)){for(const s of Object.keys(t)){if(yr.test(s))throw K(tu,"Cannot contain numeric property keys");if(s==="default"||u.includes(s))return _e(e,t[s],n,u,r)}return[]}throw K(Re,`Invalid "${e}" target "${t}"`)},"f"),ee="*",br=l((e,t)=>{const n=e.indexOf(ee),u=t.indexOf(ee);return n===u?t.length>e.length:u>n},"m");function vr(e,t){if(!t.includes(ee)&&e.hasOwnProperty(t))return[t];let n,u;for(const r of Object.keys(e))if(r.includes(ee)){const[s,o,i]=r.split(ee);if(i===void 0&&t.startsWith(s)&&t.endsWith(o)){const a=t.slice(s.length,-o.length||void 0);a&&(!n||br(n,r))&&(n=r,u=a)}}return[n,u]}l(vr,"d");const Ar=l(e=>Object.keys(e).reduce((t,n)=>{const u=n===""||n[0]!==".";if(t===void 0||t===u)return u;throw K(tu,'"exports" cannot contain some keys starting with "." and some not')},void 0),"p"),$r=/^\w+:/,xr=l((e,t,n)=>{if(!e)throw new Error('"exports" is required');t=t===""?".":`./${t}`,(typeof e=="string"||Array.isArray(e)||eu(e)&&Ar(e))&&(e={".":e});const[u,r]=vr(e,t),s=_e(uu.Export,e[u],t,n,r);if(s.length===0)throw K(Er,t==="."?'No "exports" main defined':`Package subpath '${t}' is not defined by "exports"`);for(const o of s)if(!o.startsWith("./")&&!$r.test(o))throw K(Re,`Invalid "exports" target "${o}" defined in the package config`);return s},"v");var kr=Object.defineProperty,h=l((e,t)=>kr(e,"name",{value:t,configurable:!0}),"o");function T(e){return e.startsWith("\\\\?\\")?e:e.replace(/\\/g,"/")}l(T,"h"),h(T,"slash");const We=h(e=>{const t=_[e];return(n,...u)=>{const r=`${e}:${u.join(":")}`;let s=n?.get(r);return s===void 0&&(s=Reflect.apply(t,_,u),n?.set(r,s)),s}},"cacheFs"),I=We("existsSync"),jr=We("readFileSync"),Fe=We("statSync"),nu=h((e,t,n)=>{for(;;){const u=g.posix.join(e,t);if(I(n,u))return u;const r=g.dirname(e);if(r===e)return;e=r}},"findUp"),Me=/^\.{1,2}(\/.*)?$/,Le=h(e=>{const t=T(e);return Me.test(t)?t:`./${t}`},"normalizeRelativePath");function ru(e,t=!1){const n=e.length;let u=0,r="",s=0,o=16,i=0,a=0,D=0,c=0,F=0;function f(p,b){let k=0,B=0;for(;k<p;){let E=e.charCodeAt(u);if(E>=48&&E<=57)B=B*16+E-48;else if(E>=65&&E<=70)B=B*16+E-65+10;else if(E>=97&&E<=102)B=B*16+E-97+10;else break;u++,k++}return k<p&&(B=-1),B}l(f,"y"),h(f,"scanHexDigits");function d(p){u=p,r="",s=0,o=16,F=0}l(d,"v"),h(d,"setPosition");function C(){let p=u;if(e.charCodeAt(u)===48)u++;else for(u++;u<e.length&&q(e.charCodeAt(u));)u++;if(u<e.length&&e.charCodeAt(u)===46)if(u++,u<e.length&&q(e.charCodeAt(u)))for(u++;u<e.length&&q(e.charCodeAt(u));)u++;else return F=3,e.substring(p,u);let b=u;if(u<e.length&&(e.charCodeAt(u)===69||e.charCodeAt(u)===101))if(u++,(u<e.length&&e.charCodeAt(u)===43||e.charCodeAt(u)===45)&&u++,u<e.length&&q(e.charCodeAt(u))){for(u++;u<e.length&&q(e.charCodeAt(u));)u++;b=u}else F=3;return e.substring(p,b)}l(C,"j"),h(C,"scanNumber");function m(){let p="",b=u;for(;;){if(u>=n){p+=e.substring(b,u),F=2;break}const k=e.charCodeAt(u);if(k===34){p+=e.substring(b,u),u++;break}if(k===92){if(p+=e.substring(b,u),u++,u>=n){F=2;break}switch(e.charCodeAt(u++)){case 34:p+='"';break;case 92:p+="\\";break;case 47:p+="/";break;case 98:p+="\b";break;case 102:p+="\f";break;case 110:p+=`
`;break;case 114:p+="\r";break;case 116:p+="	";break;case 117:const B=f(4);B>=0?p+=String.fromCharCode(B):F=4;break;default:F=5}b=u;continue}if(k>=0&&k<=31)if(G(k)){p+=e.substring(b,u),F=2;break}else F=6;u++}return p}l(m,"d"),h(m,"scanString");function w(){if(r="",F=0,s=u,a=i,c=D,u>=n)return s=n,o=17;let p=e.charCodeAt(u);if(he(p)){do u++,r+=String.fromCharCode(p),p=e.charCodeAt(u);while(he(p));return o=15}if(G(p))return u++,r+=String.fromCharCode(p),p===13&&e.charCodeAt(u)===10&&(u++,r+=`
`),i++,D=u,o=14;switch(p){case 123:return u++,o=1;case 125:return u++,o=2;case 91:return u++,o=3;case 93:return u++,o=4;case 58:return u++,o=6;case 44:return u++,o=5;case 34:return u++,r=m(),o=10;case 47:const b=u-1;if(e.charCodeAt(u+1)===47){for(u+=2;u<n&&!G(e.charCodeAt(u));)u++;return r=e.substring(b,u),o=12}if(e.charCodeAt(u+1)===42){u+=2;const k=n-1;let B=!1;for(;u<k;){const E=e.charCodeAt(u);if(E===42&&e.charCodeAt(u+1)===47){u+=2,B=!0;break}u++,G(E)&&(E===13&&e.charCodeAt(u)===10&&u++,i++,D=u)}return B||(u++,F=1),r=e.substring(b,u),o=13}return r+=String.fromCharCode(p),u++,o=16;case 45:if(r+=String.fromCharCode(p),u++,u===n||!q(e.charCodeAt(u)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return r+=C(),o=11;default:for(;u<n&&O(p);)u++,p=e.charCodeAt(u);if(s!==u){switch(r=e.substring(s,u),r){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return r+=String.fromCharCode(p),u++,o=16}}l(w,"A"),h(w,"scanNext");function O(p){if(he(p)||G(p))return!1;switch(p){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}l(O,"E"),h(O,"isUnknownContentCharacter");function $(){let p;do p=w();while(p>=12&&p<=15);return p}return l($,"B"),h($,"scanNextNonTrivia"),{setPosition:d,getPosition:h(()=>u,"getPosition"),scan:t?$:w,getToken:h(()=>o,"getToken"),getTokenValue:h(()=>r,"getTokenValue"),getTokenOffset:h(()=>s,"getTokenOffset"),getTokenLength:h(()=>u-s,"getTokenLength"),getTokenStartLine:h(()=>a,"getTokenStartLine"),getTokenStartCharacter:h(()=>s-c,"getTokenStartCharacter"),getTokenError:h(()=>F,"getTokenError")}}l(ru,"Le"),h(ru,"createScanner");function he(e){return e===32||e===9}l(he,"X"),h(he,"isWhiteSpace");function G(e){return e===10||e===13}l(G,"S"),h(G,"isLineBreak");function q(e){return e>=48&&e<=57}l(q,"$"),h(q,"isDigit");var su;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(su||(su={})),new Array(20).fill(0).map((e,t)=>" ".repeat(t));const H=200;new Array(H).fill(0).map((e,t)=>`
`+" ".repeat(t)),new Array(H).fill(0).map((e,t)=>"\r"+" ".repeat(t)),new Array(H).fill(0).map((e,t)=>`\r
`+" ".repeat(t)),new Array(H).fill(0).map((e,t)=>`
`+"	".repeat(t)),new Array(H).fill(0).map((e,t)=>"\r"+"	".repeat(t)),new Array(H).fill(0).map((e,t)=>`\r
`+"	".repeat(t));var me;(function(e){e.DEFAULT={allowTrailingComma:!1}})(me||(me={}));function ou(e,t=[],n=me.DEFAULT){let u=null,r=[];const s=[];function o(i){Array.isArray(r)?r.push(i):u!==null&&(r[u]=i)}return l(o,"r"),h(o,"onValue"),iu(e,{onObjectBegin:h(()=>{const i={};o(i),s.push(r),r=i,u=null},"onObjectBegin"),onObjectProperty:h(i=>{u=i},"onObjectProperty"),onObjectEnd:h(()=>{r=s.pop()},"onObjectEnd"),onArrayBegin:h(()=>{const i=[];o(i),s.push(r),r=i,u=null},"onArrayBegin"),onArrayEnd:h(()=>{r=s.pop()},"onArrayEnd"),onLiteralValue:o,onError:h((i,a,D)=>{t.push({error:i,offset:a,length:D})},"onError")},n),r[0]}l(ou,"$e"),h(ou,"parse$1");function iu(e,t,n=me.DEFAULT){const u=ru(e,!1),r=[];let s=0;function o(v){return v?()=>s===0&&v(u.getTokenOffset(),u.getTokenLength(),u.getTokenStartLine(),u.getTokenStartCharacter()):()=>!0}l(o,"r"),h(o,"toNoArgVisit");function i(v){return v?S=>s===0&&v(S,u.getTokenOffset(),u.getTokenLength(),u.getTokenStartLine(),u.getTokenStartCharacter()):()=>!0}l(i,"f"),h(i,"toOneArgVisit");function a(v){return v?S=>s===0&&v(S,u.getTokenOffset(),u.getTokenLength(),u.getTokenStartLine(),u.getTokenStartCharacter(),()=>r.slice()):()=>!0}l(a,"u"),h(a,"toOneArgVisitWithPath");function D(v){return v?()=>{s>0?s++:v(u.getTokenOffset(),u.getTokenLength(),u.getTokenStartLine(),u.getTokenStartCharacter(),()=>r.slice())===!1&&(s=1)}:()=>!0}l(D,"g"),h(D,"toBeginVisit");function c(v){return v?()=>{s>0&&s--,s===0&&v(u.getTokenOffset(),u.getTokenLength(),u.getTokenStartLine(),u.getTokenStartCharacter())}:()=>!0}l(c,"w"),h(c,"toEndVisit");const F=D(t.onObjectBegin),f=a(t.onObjectProperty),d=c(t.onObjectEnd),C=D(t.onArrayBegin),m=c(t.onArrayEnd),w=a(t.onLiteralValue),O=i(t.onSeparator),$=o(t.onComment),p=i(t.onError),b=n&&n.disallowComments,k=n&&n.allowTrailingComma;function B(){for(;;){const v=u.scan();switch(u.getTokenError()){case 4:E(14);break;case 5:E(15);break;case 3:E(13);break;case 1:b||E(11);break;case 2:E(12);break;case 6:E(16);break}switch(v){case 12:case 13:b?E(10):$();break;case 16:E(1);break;case 15:case 14:break;default:return v}}}l(B,"T"),h(B,"scanNext");function E(v,S=[],tt=[]){if(p(v),S.length+tt.length>0){let ne=u.getToken();for(;ne!==17;){if(S.indexOf(ne)!==-1){B();break}else if(tt.indexOf(ne)!==-1)break;ne=B()}}}l(E,"p"),h(E,"handleError");function ve(v){const S=u.getTokenValue();return v?w(S):(f(S),r.push(S)),B(),!0}l(ve,"U"),h(ve,"parseString");function Ze(){switch(u.getToken()){case 11:const v=u.getTokenValue();let S=Number(v);isNaN(S)&&(E(2),S=0),w(S);break;case 7:w(null);break;case 8:w(!0);break;case 9:w(!1);break;default:return!1}return B(),!0}l(Ze,"a"),h(Ze,"parseLiteral");function Qe(){return u.getToken()!==10?(E(3,[],[2,5]),!1):(ve(!1),u.getToken()===6?(O(":"),B(),ue()||E(4,[],[2,5])):E(5,[],[2,5]),r.pop(),!0)}l(Qe,"N"),h(Qe,"parseProperty");function Xe(){F(),B();let v=!1;for(;u.getToken()!==2&&u.getToken()!==17;){if(u.getToken()===5){if(v||E(4,[],[]),O(","),B(),u.getToken()===2&&k)break}else v&&E(6,[],[]);Qe()||E(4,[],[2,5]),v=!0}return d(),u.getToken()!==2?E(7,[2],[]):B(),!0}l(Xe,"_e"),h(Xe,"parseObject");function et(){C(),B();let v=!0,S=!1;for(;u.getToken()!==4&&u.getToken()!==17;){if(u.getToken()===5){if(S||E(4,[],[]),O(","),B(),u.getToken()===4&&k)break}else S&&E(6,[],[]);v?(r.push(0),v=!1):r[r.length-1]++,ue()||E(4,[],[4,5]),S=!0}return m(),v||r.pop(),u.getToken()!==4?E(8,[4],[]):B(),!0}l(et,"ye"),h(et,"parseArray");function ue(){switch(u.getToken()){case 3:return et();case 1:return Xe();case 10:return ve(!0);default:return Ze()}}return l(ue,"z"),h(ue,"parseValue"),B(),u.getToken()===17?n.allowEmptyContent?!0:(E(4,[],[]),!1):ue()?(u.getToken()!==17&&E(9,[],[]),!0):(E(4,[],[]),!1)}l(iu,"xe"),h(iu,"visit");var au;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(au||(au={}));var lu;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(lu||(lu={}));const Or=ou;var Du;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(Du||(Du={}));const cu=h((e,t)=>Or(jr(t,e,"utf8")),"readJsonc"),Ue=Symbol("implicitBaseUrl"),L="${configDir}",Sr=h(()=>{const{findPnpApi:e}=Zu;return e&&e(process.cwd())},"getPnpApi"),Ve=h((e,t,n,u)=>{const r=`resolveFromPackageJsonPath:${e}:${t}:${n}`;if(u!=null&&u.has(r))return u.get(r);const s=cu(e,u);if(!s)return;let o=t||"tsconfig.json";if(!n&&s.exports)try{const[i]=xr(s.exports,t,["require","types"]);o=i}catch{return!1}else!t&&s.tsconfig&&(o=s.tsconfig);return o=g.join(e,"..",o),u?.set(r,o),o},"resolveFromPackageJsonPath"),ze="package.json",qe="tsconfig.json",Pr=h((e,t,n)=>{let u=e;if(e===".."&&(u=g.join(u,qe)),e[0]==="."&&(u=g.resolve(t,u)),g.isAbsolute(u)){if(I(n,u)){if(Fe(n,u).isFile())return u}else if(!u.endsWith(".json")){const d=`${u}.json`;if(I(n,d))return d}return}const[r,...s]=e.split("/"),o=r[0]==="@"?`${r}/${s.shift()}`:r,i=s.join("/"),a=Sr();if(a){const{resolveRequest:d}=a;try{if(o===e){const C=d(g.join(o,ze),t);if(C){const m=Ve(C,i,!1,n);if(m&&I(n,m))return m}}else{let C;try{C=d(e,t,{extensions:[".json"]})}catch{C=d(g.join(e,qe),t)}if(C)return C}}catch{}}const D=nu(g.resolve(t),g.join("node_modules",o),n);if(!D||!Fe(n,D).isDirectory())return;const c=g.join(D,ze);if(I(n,c)){const d=Ve(c,i,!1,n);if(d===!1)return;if(d&&I(n,d)&&Fe(n,d).isFile())return d}const F=g.join(D,i),f=F.endsWith(".json");if(!f){const d=`${F}.json`;if(I(n,d))return d}if(I(n,F)){if(Fe(n,F).isDirectory()){const d=g.join(F,ze);if(I(n,d)){const m=Ve(d,"",!0,n);if(m&&I(n,m))return m}const C=g.join(F,qe);if(I(n,C))return C}else if(f)return F}},"resolveExtendsPath"),Je=h((e,t)=>Le(g.relative(e,t)),"pathRelative"),fu=["files","include","exclude"],pu=h((e,t,n)=>{const u=g.join(t,n),r=g.relative(e,u);return T(r)||"./"},"resolveAndRelativize"),Tr=h((e,t,n)=>{const u=g.relative(e,t);if(!u)return n;const r=n.startsWith("./")?n.slice(2):n;return T(`${u}/${r}`)},"prefixPattern"),Ir=h((e,t,n,u)=>{const r=Pr(e,t,u);if(!r)throw new Error(`File '${e}' not found.`);if(n.has(r))throw new Error(`Circularity detected while resolving configuration: ${r}`);n.add(r);const s=g.dirname(r),o=du(r,u,n);delete o.references;const{compilerOptions:i}=o;if(i){const{baseUrl:a}=i;a&&!a.startsWith(L)&&(i.baseUrl=pu(t,s,a));const{outDir:D}=i;D&&!D.startsWith(L)&&(i.outDir=pu(t,s,D))}for(const a of fu){const D=o[a];D&&(o[a]=D.map(c=>c.startsWith(L)?c:Tr(t,s,c)))}return o},"resolveExtends"),Nr=["outDir","declarationDir"],du=h((e,t,n=new Set)=>{let u;try{u=cu(e,t)||{}}catch{throw new Error(`Cannot resolve tsconfig at path: ${e}`)}if(typeof u!="object")throw new SyntaxError(`Failed to parse tsconfig at: ${e}`);const r=g.dirname(e);if(u.compilerOptions){const{compilerOptions:s}=u;s.paths&&!s.baseUrl&&(s[Ue]=r)}if(u.extends){const s=Array.isArray(u.extends)?u.extends:[u.extends];delete u.extends;for(const o of s.reverse()){const i=Ir(o,r,new Set(n),t),a={...i,...u,compilerOptions:{...i.compilerOptions,...u.compilerOptions}};i.watchOptions&&(a.watchOptions={...i.watchOptions,...u.watchOptions}),u=a}}if(u.compilerOptions){const{compilerOptions:s}=u,o=["baseUrl","rootDir"];for(const i of o){const a=s[i];if(a&&!a.startsWith(L)){const D=g.resolve(r,a),c=Je(r,D);s[i]=c}}for(const i of Nr){let a=s[i];a&&(Array.isArray(u.exclude)||(u.exclude=[]),u.exclude.includes(a)||u.exclude.push(a),a.startsWith(L)||(a=Le(a)),s[i]=a)}}else u.compilerOptions={};if(u.include?(u.include=u.include.map(T),u.files&&delete u.files):u.files&&(u.files=u.files.map(s=>s.startsWith(L)?s:Le(s))),u.watchOptions){const{watchOptions:s}=u;s.excludeDirectories&&(s.excludeDirectories=s.excludeDirectories.map(o=>T(g.resolve(r,o))))}return u},"_parseTsconfig"),ge=h((e,t)=>{if(e.startsWith(L))return T(g.join(t,e.slice(L.length)))},"interpolateConfigDir"),Rr=["outDir","declarationDir","outFile","rootDir","baseUrl","tsBuildInfoFile"],_r=h(e=>{if(e.strict){const t=["noImplicitAny","noImplicitThis","strictNullChecks","strictFunctionTypes","strictBindCallApply","strictPropertyInitialization","strictBuiltinIteratorReturn","alwaysStrict","useUnknownInCatchVariables"];for(const n of t)e[n]===void 0&&(e[n]=!0)}if(e.target){let t=e.target.toLowerCase();t==="es2015"&&(t="es6"),e.target=t,t==="esnext"&&(e.module!=null||(e.module="es6"),e.useDefineForClassFields!=null||(e.useDefineForClassFields=!0)),(t==="es6"||t==="es2016"||t==="es2017"||t==="es2018"||t==="es2019"||t==="es2020"||t==="es2021"||t==="es2022"||t==="es2023"||t==="es2024")&&(e.module!=null||(e.module="es6")),(t==="es2022"||t==="es2023"||t==="es2024")&&(e.useDefineForClassFields!=null||(e.useDefineForClassFields=!0))}if(e.module){let t=e.module.toLowerCase();t==="es2015"&&(t="es6"),e.module=t,(t==="es6"||t==="es2020"||t==="es2022"||t==="esnext"||t==="none"||t==="system"||t==="umd"||t==="amd")&&(e.moduleResolution!=null||(e.moduleResolution="classic")),t==="system"&&(e.allowSyntheticDefaultImports!=null||(e.allowSyntheticDefaultImports=!0)),(t==="node16"||t==="nodenext"||t==="preserve")&&(e.esModuleInterop!=null||(e.esModuleInterop=!0),e.allowSyntheticDefaultImports!=null||(e.allowSyntheticDefaultImports=!0)),(t==="node16"||t==="nodenext")&&(e.moduleDetection!=null||(e.moduleDetection="force"),e.useDefineForClassFields!=null||(e.useDefineForClassFields=!0)),t==="node16"&&(e.target!=null||(e.target="es2022"),e.moduleResolution!=null||(e.moduleResolution="node16")),t==="nodenext"&&(e.target!=null||(e.target="esnext"),e.moduleResolution!=null||(e.moduleResolution="nodenext")),t==="preserve"&&(e.moduleResolution!=null||(e.moduleResolution="bundler"))}if(e.moduleResolution){let t=e.moduleResolution.toLowerCase();t==="node"&&(t="node10"),e.moduleResolution=t,(t==="node16"||t==="nodenext"||t==="bundler")&&(e.resolvePackageJsonExports!=null||(e.resolvePackageJsonExports=!0),e.resolvePackageJsonImports!=null||(e.resolvePackageJsonImports=!0)),t==="bundler"&&(e.allowSyntheticDefaultImports!=null||(e.allowSyntheticDefaultImports=!0),e.resolveJsonModule!=null||(e.resolveJsonModule=!0))}e.esModuleInterop&&(e.allowSyntheticDefaultImports!=null||(e.allowSyntheticDefaultImports=!0)),e.verbatimModuleSyntax&&(e.isolatedModules!=null||(e.isolatedModules=!0),e.preserveConstEnums!=null||(e.preserveConstEnums=!0)),e.isolatedModules&&(e.preserveConstEnums!=null||(e.preserveConstEnums=!0)),e.rewriteRelativeImportExtensions&&(e.allowImportingTsExtensions!=null||(e.allowImportingTsExtensions=!0))},"normalizeCompilerOptions"),Fu=h((e,t=new Map)=>{const n=g.resolve(e),u=du(n,t),r=g.dirname(n),{compilerOptions:s}=u;if(s){for(const i of Rr){const a=s[i];if(a){const D=ge(a,r);s[i]=D?Je(r,D):a}}for(const i of["rootDirs","typeRoots"]){const a=s[i];a&&(s[i]=a.map(D=>{const c=ge(D,r);return c?Je(r,c):D}))}const{paths:o}=s;if(o)for(const i of Object.keys(o))o[i]=o[i].map(a=>{var D;return(D=ge(a,r))!=null?D:a});_r(s)}for(const o of fu){const i=u[o];i&&(u[o]=i.map(a=>{var D;return(D=ge(a,r))!=null?D:a}))}return u},"parseTsconfig"),Wr=h((e=process.cwd(),t="tsconfig.json",n=new Map)=>{const u=nu(T(e),t,n);if(!u)return null;const r=Fu(u,n);return{path:u,config:r}},"getTsconfig"),Mr=/\*/g,hu=h((e,t)=>{const n=e.match(Mr);if(n&&n.length>1)throw new Error(t)},"assertStarCount"),Lr=h(e=>{if(e.includes("*")){const[t,n]=e.split("*");return{prefix:t,suffix:n}}return e},"parsePattern"),Ur=h(({prefix:e,suffix:t},n)=>n.startsWith(e)&&n.endsWith(t),"isPatternMatch"),Vr=h((e,t,n)=>Object.entries(e).map(([u,r])=>(hu(u,`Pattern '${u}' can have at most one '*' character.`),{pattern:Lr(u),substitutions:r.map(s=>{if(hu(s,`Substitution '${s}' in pattern '${u}' can have at most one '*' character.`),!t&&!Me.test(s))throw new Error("Non-relative paths are not allowed when 'baseUrl' is not set. Did you forget a leading './'?");return g.resolve(n,s)})})),"parsePaths"),zr=h(e=>{const{compilerOptions:t}=e.config;if(!t)return null;const{baseUrl:n,paths:u}=t;if(!n&&!u)return null;const r=Ue in t&&t[Ue],s=g.resolve(g.dirname(e.path),n||r||"."),o=u?Vr(u,n,s):[];return i=>{if(Me.test(i))return[];const a=[];for(const f of o){if(f.pattern===i)return f.substitutions.map(T);typeof f.pattern!="string"&&a.push(f)}let D,c=-1;for(const f of a)Ur(f.pattern,i)&&f.pattern.prefix.length>c&&(c=f.pattern.prefix.length,D=f);if(!D)return n?[T(g.join(s,i))]:[];const F=i.slice(D.pattern.prefix.length,i.length-D.pattern.suffix.length);return D.substitutions.map(f=>T(f.replace("*",F)))}},"createPathsMatcher");var qr=Object.defineProperty,Ce=h((e,t)=>qr(e,"name",{value:t,configurable:!0}),"s");const mu=Ce(e=>{let t="";for(let n=0;n<e.length;n+=1){const u=e[n],r=u.toUpperCase();t+=u===r?u.toLowerCase():r}return t},"invertCase"),Ke=new Map,gu=Ce((e,t)=>{const n=tn.join(e,`.is-fs-case-sensitive-test-${process.pid}`);try{return t.writeFileSync(n,""),!t.existsSync(mu(n))}finally{try{t.unlinkSync(n)}catch{}}},"checkDirectoryCaseWithWrite"),Jr=Ce((e,t,n)=>{try{return gu(e,n)}catch(u){if(t===void 0)return gu(en.tmpdir(),n);throw u}},"checkDirectoryCaseWithFallback"),Kr=Ce((e,t=Xu,n=!0)=>{const u=e??process.cwd();if(n&&Ke.has(u))return Ke.get(u);let r;const s=mu(u);return s!==u&&t.existsSync(u)?r=!t.existsSync(s):r=Jr(u,e,t),n&&Ke.set(u,r),r},"isFsCaseSensitive"),{join:Ee}=g.posix,Ge={ts:[".ts",".tsx",".d.ts"],cts:[".cts",".d.cts"],mts:[".mts",".d.mts"]},Gr=h(e=>{const t=[...Ge.ts],n=[...Ge.cts],u=[...Ge.mts];return e!=null&&e.allowJs&&(t.push(".js",".jsx"),n.push(".cjs"),u.push(".mjs")),[...t,...n,...u]},"getSupportedExtensions"),Hr=h(e=>{const t=[];if(!e)return t;const{outDir:n,declarationDir:u}=e;return n&&t.push(n),u&&t.push(u),t},"getDefaultExcludeSpec"),Cu=h(e=>e.replaceAll(/[.*+?^${}()|[\]\\]/g,String.raw`\$&`),"escapeForRegexp"),Yr=["node_modules","bower_components","jspm_packages"],He=`(?!(${Yr.join("|")})(/|$))`,Zr=/(?:^|\/)[^.*?]+$/,Eu="**/*",ye="[^/]",Ye="[^./]",yu=process.platform==="win32";h(({config:e,path:t},n=Kr())=>{if("extends"in e)throw new Error("tsconfig#extends must be resolved. Use getTsconfig or parseTsconfig to resolve it.");if(!g.isAbsolute(t))throw new Error("The tsconfig path must be absolute");yu&&(t=T(t));const u=g.dirname(t),{files:r,include:s,exclude:o,compilerOptions:i}=e,a=r?.map(C=>Ee(u,C)),D=Gr(i),c=n?"":"i",F=(o||Hr(i)).map(C=>{const m=Ee(u,C),w=Cu(m).replaceAll(String.raw`\*\*/`,"(.+/)?").replaceAll(String.raw`\*`,`${ye}*`).replaceAll(String.raw`\?`,ye);return new RegExp(`^${w}($|/)`,c)}),f=r||s?s:[Eu],d=f?f.map(C=>{let m=Ee(u,C);Zr.test(m)&&(m=Ee(m,Eu));const w=Cu(m).replaceAll(String.raw`/\*\*`,`(/${He}${Ye}${ye}*)*?`).replaceAll(/(\/)?\\\*/g,(O,$)=>{const p=`(${Ye}|(\\.(?!min\\.js$))?)*`;return $?`/${He}${Ye}${p}`:p}).replaceAll(/(\/)?\\\?/g,(O,$)=>{const p=ye;return $?`/${He}${p}`:p});return new RegExp(`^${w}$`,c)}):void 0;return C=>{if(!g.isAbsolute(C))throw new Error("filePath must be absolute");if(yu&&(C=T(C)),a!=null&&a.includes(C)||!(!D.some(m=>C.endsWith(m))||F.some(m=>m.test(C)))&&d&&d.some(m=>m.test(C)))return e}},"createFilesMatcher");const Bu="resolve-tsconfig-paths",Qr=l(e=>e[0]===".","isRelative"),Xr=l(e=>e[0]==="/"||/^[\s\S]:/.test(e),"isAbsolute"),wu=l(e=>{const t=zr(e);return t?{name:Bu,async resolveId(n,u,r){if(!u||Qr(n)||Xr(n)||n.startsWith("\0"))return null;const s=t(n);for(const o of s){const i=await this.resolve(o,u,{skipSelf:!0,...r});if(i)return i}return null}}:{name:Bu}},"resolveTsconfigPaths"),bu=/^#!.*/,es=l(()=>({name:"strip-hashbang",transform:l(e=>{if(!bu.test(e))return null;const t=new re(e);return t.replace(bu,""),{code:t.toString(),map:t.generateMap({hires:!0})}},"transform")}),"stripHashbang");class ts{static{l(this,"WalkerBase")}constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:l(()=>this.should_skip=!0,"skip"),remove:l(()=>this.should_remove=!0,"remove"),replace:l(t=>this.replacement=t,"replace")}}replace(t,n,u,r){t&&n&&(u!=null?t[n][u]=r:t[n]=r)}remove(t,n,u){t&&n&&(u!=null?t[n].splice(u,1):delete t[n])}}class us extends ts{static{l(this,"SyncWalker")}constructor(t,n){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:l(()=>this.should_skip=!0,"skip"),remove:l(()=>this.should_remove=!0,"remove"),replace:l(u=>this.replacement=u,"replace")},this.enter=t,this.leave=n}visit(t,n,u,r){if(t){if(this.enter){const o=this.should_skip,i=this.should_remove,a=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,t,n,u,r),this.replacement&&(t=this.replacement,this.replace(n,u,r,t)),this.should_remove&&this.remove(n,u,r);const D=this.should_skip,c=this.should_remove;if(this.should_skip=o,this.should_remove=i,this.replacement=a,D)return t;if(c)return null}let s;for(s in t){const o=t[s];if(o&&typeof o=="object")if(Array.isArray(o)){const i=o;for(let a=0;a<i.length;a+=1){const D=i[a];vu(D)&&(this.visit(D,t,s,a)||a--)}}else vu(o)&&this.visit(o,t,s,null)}if(this.leave){const o=this.replacement,i=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,t,n,u,r),this.replacement&&(t=this.replacement,this.replace(n,u,r,t)),this.should_remove&&this.remove(n,u,r);const a=this.should_remove;if(this.replacement=o,this.should_remove=i,a)return null}}return t}}function vu(e){return e!==null&&typeof e=="object"&&"type"in e&&typeof e.type=="string"}l(vu,"isNode");function ns(e,{enter:t,leave:n}){return new us(t,n).visit(e,null)}l(ns,"walk");const rs=l(()=>{const e='import{createRequire as _pkgrollCR}from"node:module";const require=_pkgrollCR(import.meta.url);';return{name:"esmInjectCreateRequire",renderChunk(t,n,u){if(u.format!=="es"||!/\brequire\b/.test(t))return null;const r=this.parse(t);let s=un(r,"scope"),o=!1;if(ns(r,{enter(a,D){a.scope&&(s=a.scope),!(a.type!=="Identifier"||a.name!=="require")&&(D?.type==="Property"&&D.key===a&&!D.compute||D?.type!=="MemberExpression"&&(s.contains("require")||(o=!0,this.skip())))},leave:l(a=>{a.scope&&(s=s.parent)},"leave")}),!o)return null;const i=new re(t);return i.prepend(e),{code:i.toString(),map:i.generateMap({hires:!0})}}}},"esmInjectCreateRequire"),Be="\0natives:",ss=l(e=>{const t=`${e}/natives`,n=new Map;return{name:"native-modules",buildStart:l(()=>{n.clear()},"buildStart"),async resolveId(u,r){if(u.startsWith(Be)||!u.endsWith(".node"))return null;const s=r?g.resolve(g.dirname(r),u):g.resolve(u);try{await U.access(s)}catch{return this.warn(`Native module not found: ${s}`),null}const o=g.basename(s);let i=o,a=1;const D=new Set(Array.from(n.values()).map(F=>g.basename(F)));for(;D.has(i);){const F=g.extname(o);i=`${g.basename(o,F)}_${a}${F}`,a+=1}const c=g.join(t,i);return n.set(s,c),Be+s},load(u){if(!u.startsWith(Be))return null;const r=u.slice(Be.length),s=n.get(r);return s?`export default require("${`./${De(g.relative(e,s))}`}");`:this.error(`Could not find staged native module for: ${r}`)},generateBundle:l(async()=>{n.size!==0&&(await U.mkdir(t,{recursive:!0}),await Promise.all(Array.from(n.entries()).map(([u,r])=>U.copyFile(u,r))))},"generateBundle")}},"nativeModules"),Au=l(()=>{const e=_.realpathSync.native(process.cwd());return{name:"external-pkg-imports",resolveId(t,n){return t[0]!=="#"||n&&Ne(n,e)?null:{id:t,external:!0}}}},"externalPkgImports");function $u(e,t){return Uu(e)?e:Lu(t||".",e)}l($u,"absolute");function os(e,t){let{last:n,cwd:u}=t||{},r=$u(e,u),s=$u(n||"/",u),o,i=[];for(;o!==s&&(i.push(r),r=Vu(o=r),r!==o););return i}l(os,"up$1");function is(e,t){let n,u,r=t&&t.cwd||"";for(n of os(r,t))if(u=zu(n,e),Nu(u))return u}l(is,"up");const as=l(async e=>{const t=await U.stat(e).catch(()=>{});if(t){if(t.isFile())return e;if(t.isDirectory()){const r=g.join(e,"index.js");if(await M(r))return r;const s=g.join(e,"index.json");if(await M(s))return s}}const n=`${e}.js`;if(await M(n))return n;const u=`${e}.json`;return await M(u)?u:null},"tryResolveImplicit"),ls=l(()=>({name:"resolve-implicit-externals",async resolveId(e,t,n){if(!Qt(e))return null;const[u,r]=Zt(e);if(!r)return null;const s=await this.resolve(e,t,{...n,skipSelf:!0});if(!s||!s.external)return s;const o=t?g.dirname(t):process.cwd(),i=is(`node_modules/${u}/package.json`,{cwd:o});if(!i)return s;const a=await Vt(i),D=g.dirname(i);if(a.exports)return s;const c=g.join(D,r),F=await as(c);if(!F)return s;const f=De(g.relative(D,F)),d=`${u}/${f}`;return{...s,id:d}}}),"resolveImplicitExternals"),we="@types/",xu=l(e=>e[0]==="@"?`${we}${e.slice(1).replace("/","__")}`:`${we}${e}`,"getAtTypesPackageName"),Ds=l(e=>{const t=e.slice(we.length);return t.includes("__")?`@${t.replace("__","/")}`:t},"getOriginalPackageName"),cs=["peerDependencies","dependencies","optionalDependencies"],ku=l((e,t)=>{const n=_.realpathSync.native(process.cwd()),u=new Set,r=new Set(Object.keys(e.devDependencies||{}));for(const s of cs){const o=e[s];if(o)for(const i of Object.keys(o))u.add(i),i.startsWith(we)&&u.add(Ds(i))}return{name:"externalize-dependencies",async resolveId(s,o,i){if(!Qt(s))return null;const[a]=Zt(s);if(u.has(a)){if(t?.forTypes){const D=xu(a);r.has(D)&&console.warn(`Recommendation: "${D}" is bundled (devDependencies) but "${a}" is externalized. Place "${D}" in dependencies/peerDependencies as well so users don't have missing types.`)}return{id:s,external:!0}}if(r.has(a)){const D=await this.resolve(s,o,{...i,skipSelf:!0});if(!D){const c=`Could not resolve "${s}" even though it's declared in package.json. Try re-installing node_modules.`;throw console.error(c),new Error(c)}if(t?.forTypes){const c=xu(a);u.has(c)&&console.warn(`Recommendation: "${c}" is externalized but "${a}" is bundled (devDependencies). This may cause type mismatches for consumers. Consider moving "${a}" to dependencies or "${c}" to devDependencies.`)}return D}return o&&!Ne(o,n)&&!t?.skipUnlistedWarnings&&console.warn(`"${a}" imported by "${De(o)}" but not declared in package.json. Will be bundled to prevent failure at runtime.`),null}}},"externalizeDependencies"),be=l(e=>e.replace("\0","").split("?")[0],"cleanRollupId"),fs=l(e=>{try{return rn(e)}catch{return{exports:[],reexports:[]}}},"safeParse"),ps=l(()=>{const e=new Map,t=l((n,u=new Set)=>{const r=be(n);if(u.has(r))return[];u.add(r);const s=e.get(r);if(!s)return[];const o=[...s.exports];for(const i of s.reexports)o.push(...t(i,u));return o},"getFinalExports");return{name:"cjs-annotate-exports",buildStart:l(async()=>{await nn(),e.clear()},"buildStart"),async transform(n,u){const r=be(u);if(!/\.c?js$/.test(r)||!n.includes("exports"))return;const{exports:s,reexports:o}=fs(n);if(s.length===0&&o.length===0)return;const a=(await Promise.all(o.map(async D=>{const c=await this.resolve(D,u);return c?be(c.id):""}))).filter(Boolean);e.set(r,{exports:s,reexports:a})},renderChunk:{order:"post",handler(n,u,r){if(r.format!=="cjs"||!u.isEntry||!u.facadeModuleId)return null;const s=be(u.facadeModuleId),o=[...new Set(t(s))];if(o.length>0){const i=new re(n);return i.append(`
0&&(module.exports={${o.join(",")}});`),{code:i.toString(),map:i.generateMap({hires:!0})}}}}}},"cjsAnnotateExports"),ds=l((e,t,n,u,r,s)=>{const o=Object.fromEntries(e.env.map(({key:D,value:c})=>[`process.env.${D}`,JSON.stringify(c)])),i=Object.fromEntries(e.define.map(({key:D,value:c})=>[D,c])),a={target:e.target,sourcemap:e.sourcemap,tsconfigRaw:r?.config,define:{...o,...i}};return{input:{},preserveEntrySignatures:"strict",plugins:[ut(),Yt(e),...r?[wu(r)]:[],Hu({entries:n}),Au(),ls(),ku(t),Xt(),Ju({extensions:[".mjs",".js",".ts",".jsx",".tsx",".json"],exportConditions:e.exportCondition}),es(),Gu(),hr(a),ps(),Ku({ignoreDynamicRequires:!0,extensions:[".js",".ts",".jsx",".tsx"],transformMixedEsModules:!0}),Yu({warnOnError:!0}),rs(),ss(s),...e.minify?[gr(a)]:[],Cr(u)],output:[]}},"getPkgConfig"),Fs=l(async(e,t,n)=>{const[u,r]=await Promise.all([import("./rollup-plugin-dts-BzUeVk_S.mjs"),import("./local-typescript-loader-CSvrvK-x.mjs")]);return{input:{},preserveEntrySignatures:"strict",plugins:[ut(),Au(),Yt(e),...n?[wu(n)]:[],ku(t,{skipUnlistedWarnings:!0,forTypes:!0}),Xt(),u.default({respectExternal:!0,compilerOptions:{composite:!1,preserveSymlinks:!1,module:r.default.ModuleKind.Preserve,moduleResolution:r.default.ModuleResolutionKind.Bundler},tsconfig:n?.path,sourcemap:!!(e.sourcemap||n?.config.compilerOptions?.declarationMap)})],output:[]}},"getDtsConfig"),hs=l(e=>{if(e.length===0)return"";const t=e.map(s=>s.split("/")),n=t[0],u=Math.min(...t.map(s=>s.length)),r=[];for(let s=0;s<u;s+=1){const o=n[s];if(t.every(i=>i[s]===o))r.push(o);else break}return r.length===0?"/":r.join("/")||"/"},"getCommonPath"),ms=l(async(e,t,n,u,r,s)=>{const o=P(hs(e.map(({dist:D})=>D)),!0);for(const D of e)D.distPrefix=D.dist.slice(o.length);const i=e,a=Object.create(null);for(const D of t){const{sourcePath:c,srcExtension:F,distExtension:f,exportEntry:d}=D,C=D.srcdist,m=C.distPrefix+c.slice(C.srcResolved.length,-F.length);if(D.inputNames=[m],d.format==="types"){let p=a.dts;p||(p=await Fs(n,r,s),a.dts=p),p.input[m]||(p.input[m]=c);const b=p.output;if(b[f])b[f][X].inputNames.push(m);else{const k={dir:o,entryFileNames:`[name]${f}`,chunkFileNames:`${C.distPrefix}[name]-[hash]${f}`,exports:"auto",format:"esm",sourcemap:n.sourcemap||s?.config.compilerOptions?.declarationMap,[X]:D};b.push(k),b[f]=k}continue}let w=a.pkg;if(!w){const p=i[0].dist;w=ds(n,r,u,t,s,p),a.pkg=w}w.input[m]||(w.input[m]=c);const O=w.output,$=`${d.format}-${f}`;if(O[$])O[$][X].inputNames.push(m);else{const p={dir:o,exports:"auto",format:d.format,sourcemap:n.sourcemap,entryFileNames:`[name]${f}`,chunkFileNames:`${C.distPrefix}[name]-[hash]${f}`,[X]:D};O.push(p),O[$]=p}}return Object.values(a)},"getRollupConfigs"),gs=l(e=>{if(!e)return Wr();const t=g.resolve(e),n=Fu(t);return{path:t,config:n}},"getTsconfig"),Cs=l(async e=>{await M(e)&&await _.promises.rm(e,{recursive:!0,force:!0})},"cleanDist"),Es=/^[$_\p{ID_Start}][$\u200C\u200D\p{ID_Continue}]*$/u,ys=new Set(["do","if","in","for","int","new","try","var","byte","case","char","else","enum","goto","long","null","this","true","void","with","break","catch","class","const","false","final","float","short","super","throw","while","delete","double","export","import","native","public","return","static","switch","throws","typeof","boolean","default","extends","finally","package","private","abstract","continue","debugger","function","volatile","interface","protected","transient","implements","instanceof","synchronized"]),Bs=l(e=>!Es.test(e)||ys.has(e),"propertyNeedsQuotes"),ws=l(e=>e.map((t,n)=>typeof t=="number"?`[${t}]`:Bs(t)?`[${JSON.stringify(t)}]`:n>0?`.${t}`:t).join(""),"prettyPath"),bs=l(e=>({name:"filter-unnecessary-outputs",generateBundle:l((t,n)=>{const u=Object.keys(n).filter(o=>n[o].type==="chunk"),r=[];for(const o of u){const i=n[o];i.isEntry&&e.includes(i.name)&&r.push(o)}const s=new Set;for(;r.length>0;){const o=r.shift(),i=n[o];if(!i||s.has(o))continue;s.add(o);const a=[...i.imports,...i.dynamicImports];for(const D of a)r.push(D)}for(const o of u)s.has(o)||delete n[o]},"generateBundle")}),"filterUnnecessaryOutputs"),{stringify:ju}=JSON,Ou=l(e=>{const[t,n]=e.split("=",2);return{key:t,value:n}},"keyValue"),N=Lt({name:"pkgroll",version:Xn,flags:{input:{type:[or],alias:"i",description:"Dist paths for source files to bundle (Only use if you cannot use package.json entries)"},src:{type:String,description:"Source directory (Deprecated, use `srcdist` instead)",default:"./src"},dist:{type:String,description:"Distribution directory (Deprecated, use `srcdist` instead)",default:"./dist"},srcdist:{type:[String],description:"Source and distribution folder pairs (eg. default `src:dist`)"},minify:{type:Boolean,description:"Minify output",alias:"m",default:!1},target:{type:[String],default:[`node${process.versions.node}`],description:"Environments to support. `target` in tsconfig.json is automatically added. Defaults to the current Node.js version.",alias:"t"},tsconfig:{type:String,description:"Custom tsconfig.json file path",alias:"p"},watch:{type:Boolean,description:"Watch mode",alias:"w",default:!1},env:{type:[Ou],description:"Compile-time environment variables (eg. --env.NODE_ENV=production)"},define:{type:[Ou],description:"Targeted strings to replace (eg. --define.process.env.NODE_ENV='production')"},exportCondition:{type:[String],description:"Export conditions for resolving dependency export and import maps (eg. --export-condition=node)"},sourcemap:{type:l(e=>{if(e==="")return!0;if(e==="inline")return e;throw new Error(`Invalid sourcemap option ${ju(e)}`)},"type"),description:"Sourcemap generation. Provide `inline` option for inline sourcemap (eg. --sourcemap, --sourcemap=inline)"},cleanDist:{type:Boolean,description:"Clean dist before bundling",default:!1}},help:{description:"Minimalistic package bundler",render:l((e,t)=>(t.flagOperator=n=>n.name==="env"?".key=":" ",t.render(e)),"render")}}),Su=process.cwd(),te=[];if(N.flags.srcdist.length>0)for(const e of N.flags.srcdist){const[t,n]=e.split(":",2);if(!t||!n)throw new Error(`Invalid src:dist pair ${ju(e)}. Expected format: src:dist`);te.push({src:P(t,!0),srcResolved:P(_.realpathSync.native(t),!0),dist:P(n,!0)})}else te.push({src:P(N.flags.src,!0),srcResolved:P(_.realpathSync.native(N.flags.src),!0),dist:P(N.flags.dist,!0)});const Pu=gs(N.flags.tsconfig),Tu=Pu?.config.compilerOptions?.target;Tu&&N.flags.target.push(Tu),(async()=>{const{packageJson:e}=await sr(Su),t=await Fr(te,e,N.flags.input);for(const r of t)if("error"in r){const{exportEntry:s}=r,o=typeof s.source=="string"?s.source:`${s.source.type}#${ws(s.source.path)}`;console.warn(`Warning (${o}):`,r.error)}const n=t.filter(r=>!("error"in r));if(n.length===0)throw new Error("No entry points found");const u=await ms(te,n,N.flags,ir(e,Su),e,Pu);N.flags.cleanDist&&await Promise.all(te.map(({dist:r})=>Cs(r))),N.flags.watch?(ce("Watch initialized"),u.map(async r=>{_u(r).on("event",async o=>{if(o.code==="BUNDLE_START"){const i=Array.isArray(o.input)?o.input:Object.values(o.input);ce("Building",...i.map(fe))}if(o.code==="BUNDLE_END")try{await Promise.all(r.output.map(a=>o.result.write(a)));const i=Array.isArray(o.input)?o.input:Object.values(o.input);ce("Built",...i.map(fe))}finally{await o.result.close()}o.code==="ERROR"&&(ce("Error:",o.error.message),await o.result?.close())})})):await Promise.all(u.map(async r=>{const s=await Wu(r);try{await Promise.all(r.output.map(o=>{const i=o[X].inputNames;return o.plugins=[bs(i)],s.write(o)}))}finally{await s.close()}}))})().catch(e=>{Mu(e),console.error("Error:",e instanceof Error?e.message:String(e)),process.exit(1)});
